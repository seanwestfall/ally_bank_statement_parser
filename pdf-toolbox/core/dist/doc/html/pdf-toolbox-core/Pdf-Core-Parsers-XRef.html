<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Pdf.Core.Parsers.XRef</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Pdf-Core-Parsers-XRef.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">pdf-toolbox-core-0.1.0: A collection of tools for processing PDF files.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Pdf.Core.Parsers.XRef</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Parsers for XRef</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:startXRef">startXRef</a> :: <a href="file:///Users/Sean/Library/Haskell/ghc-8.0.2-x86_64/lib/attoparsec-0.13.1.0/doc/html/Data-Attoparsec-ByteString.html#t:Parser">Parser</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Int.html#t:Int64">Int64</a></li><li class="src short"><a href="#v:tableXRef">tableXRef</a> :: <a href="file:///Users/Sean/Library/Haskell/ghc-8.0.2-x86_64/lib/attoparsec-0.13.1.0/doc/html/Data-Attoparsec-ByteString.html#t:Parser">Parser</a> ()</li><li class="src short"><a href="#v:parseSubsectionHeader">parseSubsectionHeader</a> :: <a href="file:///Users/Sean/Library/Haskell/ghc-8.0.2-x86_64/lib/attoparsec-0.13.1.0/doc/html/Data-Attoparsec-ByteString.html#t:Parser">Parser</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Int.html#t:Int">Int</a>, <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Int.html#t:Int">Int</a>)</li><li class="src short"><a href="#v:parseTrailerAfterTable">parseTrailerAfterTable</a> :: <a href="file:///Users/Sean/Library/Haskell/ghc-8.0.2-x86_64/lib/attoparsec-0.13.1.0/doc/html/Data-Attoparsec-ByteString.html#t:Parser">Parser</a> <a href="Pdf-Core-Object.html#t:Dict">Dict</a></li><li class="src short"><a href="#v:parseTableEntry">parseTableEntry</a> :: <a href="file:///Users/Sean/Library/Haskell/ghc-8.0.2-x86_64/lib/attoparsec-0.13.1.0/doc/html/Data-Attoparsec-ByteString.html#t:Parser">Parser</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Int.html#t:Int64">Int64</a>, <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Int.html#t:Int">Int</a>, <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a>)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:startXRef" class="def">startXRef</a> :: <a href="file:///Users/Sean/Library/Haskell/ghc-8.0.2-x86_64/lib/attoparsec-0.13.1.0/doc/html/Data-Attoparsec-ByteString.html#t:Parser">Parser</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Int.html#t:Int64">Int64</a> <a href="#v:startXRef" class="selflink">#</a></p><div class="doc"><p>Offset of the very last xref table</p><p>Before calling it, make sure your are currently somewhere near
 the end of pdf file. Otherwice it can eat all the memory.
 E.g. examine only the last 1KB</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parseOnly startXRef &quot;anything...startxref\n222\n%%EOF...blah\nstartxref\n123\n%%EOF&quot;
</code></strong>Right 123
</pre></div></div><div class="top"><p class="src"><a id="v:tableXRef" class="def">tableXRef</a> :: <a href="file:///Users/Sean/Library/Haskell/ghc-8.0.2-x86_64/lib/attoparsec-0.13.1.0/doc/html/Data-Attoparsec-ByteString.html#t:Parser">Parser</a> () <a href="#v:tableXRef" class="selflink">#</a></p><div class="doc"><p>When current input position points to xref stream
 (or doesn't point to xref at all), the parser will fail.
 When it points to xref table, the parser will succeed
 and input position will point to the first xref subsection</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parseOnly tableXRef &quot;xref\n&quot;
</code></strong>Right ()
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parseOnly tableXRef &quot;not xref&quot;
</code></strong>Left &quot;Failed reading: takeWith&quot;
</pre></div></div><div class="top"><p class="src"><a id="v:parseSubsectionHeader" class="def">parseSubsectionHeader</a> :: <a href="file:///Users/Sean/Library/Haskell/ghc-8.0.2-x86_64/lib/attoparsec-0.13.1.0/doc/html/Data-Attoparsec-ByteString.html#t:Parser">Parser</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Int.html#t:Int">Int</a>, <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Int.html#t:Int">Int</a>) <a href="#v:parseSubsectionHeader" class="selflink">#</a></p><div class="doc"><p>Parse subsection header, return (the first object index, number of object)</p><p>Input position will point to the first object</p></div></div><div class="top"><p class="src"><a id="v:parseTrailerAfterTable" class="def">parseTrailerAfterTable</a> :: <a href="file:///Users/Sean/Library/Haskell/ghc-8.0.2-x86_64/lib/attoparsec-0.13.1.0/doc/html/Data-Attoparsec-ByteString.html#t:Parser">Parser</a> <a href="Pdf-Core-Object.html#t:Dict">Dict</a> <a href="#v:parseTrailerAfterTable" class="selflink">#</a></p><div class="doc"><p>Parse trailer located after XRef table</p><p>Input position should point to the &quot;trailer&quot; keyword</p></div></div><div class="top"><p class="src"><a id="v:parseTableEntry" class="def">parseTableEntry</a> :: <a href="file:///Users/Sean/Library/Haskell/ghc-8.0.2-x86_64/lib/attoparsec-0.13.1.0/doc/html/Data-Attoparsec-ByteString.html#t:Parser">Parser</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Int.html#t:Int64">Int64</a>, <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Int.html#t:Int">Int</a>, <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a>) <a href="#v:parseTableEntry" class="selflink">#</a></p><div class="doc"><p>Parse XRef table entry. Returns offset, generation and whether the object is free.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>